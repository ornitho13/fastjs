!function(e){"use strict";let t=function(e){return new t.fonction.init(e)};t.fonction=t.prototype={selector:[],selectorLength:0,makeArray(e){let t=[],s=e.length,o=0;for(;o<s;o++)t[o]=e[o];return t},find:function(e){let t=[];return"string"==typeof e&&(this.selector.forEach(s=>{s.querySelectorAll(e).forEach(e=>{t.push(e)})}),this.selectorLength=t.length,this.selector=t),this},offset:function(){let e=this.selector;this.selectorLength>0&&(e=this.selector[0]);let t=e.getBoundingClientRect(),s=document.body;return{top:t.top+s.scrollTop,left:t.left+s.scrollLeft}},children:function(){let e=[];return this.selectorLength>0&&(this.selector.forEach(t=>{let s=t.childNodes;s.length>0&&s.forEach(t=>{e.push(t)})}),this.selector=e,this.selectorLength=this.selector.length),this},clone:function(){return this.selectorLength>0?this.selector[0].cloneNode(!0):this},css:function(e,t){return void 0===t?"object"==typeof e?(this.selector.forEach(t=>{for(let s in e)t.style[s]=e[s]}),this):getComputedStyle(this.selector[0])[e]:(this.selector.forEach(s=>{s.style[e]=t}),this)},each(e){if(this.selectorLength>0)return this.selector.forEach(t=>{e(t)})},filter:function(e){return this.selector.forEach(t=>{e(t)}),this},get:function(e){return void 0===e?this.selector:this.selector[e]},next:function(){let e=this.selector[0];return this.selector=[],this.selector[0]=e.nextElementSibling,this.selectorLength=1,this},previous:function(){let e=this.selector[0];return this.selector=[],this.selector[0]=e.previousElementSibling,this.selectorLength=1,this},siblings(){let e=[],t=this.selector[0];return e.filter.call(t.parentNode.children,e=>e!==t),this.selector=[],this.selector=e,this},prototypeClosest(e,t){if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null},closest(e){if(Element.prototype.closest){let t=this.selector[0].closest(e);this.selector=[],this.selector[0]=t,this.selectorLength=1}else{let t=this.selector[0],s=this.prototypeClosest(t,e);if(null!==s&&s.length>0)return this.selector=[],this.selector=s,this.selectorLength=s.length,this}return this},parent:function(){if(this.selector[0].parentNode){let e=this.selector[0];this.selector=[],this.selector[0]=e.parentNode,this.selectorLength=1}return this},position:function(){let e=this.selector[0];return{top:e.offsetTop,left:e.offsetLeft}},scrollTop:function(e){let t=this.selector[0];return void 0!==e?(t.scrollTop=e,this):t.scrollTop},parseHTML:function(e){let t=document.implementation.createHTMLDocument();return t.body.innerHTML=e,t.body.children}},(t.fonction.init=function(t){return"string"==typeof t&&(this.selector=document.querySelectorAll(t),this.selectorLength=this.selector.length),t===e?(this.selector[0]=t,this.selectorLength=1):t.nodeType&&t.nodeType>0?(this.selector[0]=t,this.selectorLength=1):!0===Array.isArray(t)&&(this.selector=this.makeArray(t),this.selectorLength=this.selector.length),this}).prototype=t.fonction,t.extend=t.fonction.extend=function(e){if(!Object.prototype.assign){e=e||{};for(let t=1;t<arguments.length;t++)if(arguments[t])for(let s in arguments[t])arguments[t].hasOwnProperty(s)&&(e[s]=arguments[t][s]);return e}for(let t=1;t<arguments.length;t++)arguments[t]&&Object.assign(e,arguments[t])},t.fonction.init.prototype=t.fonction,void 0===e.fastJs&&(e.fastJs=t),void 0===e.$$&&(e.$$=t),void 0===e.$&&(e.$=t)}(window),window,fastJs.prototype.attr=function(e,t){if(void 0===t){let t=this.selector;if(this.selectorLength>0)return(t=this.selector[0]).getAttribute(e)}else this.selector.forEach(s=>{s.setAttribute(e,t)});return this},fastJs.prototype.data=function(e,t){if(void 0!==t)return this.selector.forEach(s=>{s.dataset[e]=t}),this;{let t=this.selector;if(this.selectorLength>0)return(t=this.selector[0]).dataset[e]}},fastJs.prototype.append=function(e){let t,s=0,o=this;return e.nodeType&&e.nodeType>0&&(e=e.outerHTML),this.selector.forEach(r=>{for("string"==typeof e?(t=o.parseHTML(e),s=t.length):t[0]=e;s>0;){let e=t[0];r.appendChild(e),s=t.length}}),this},fastJs.prototype.prepend=function(e){let t=0,s=this;return e.nodeType&&e.nodeType>0&&(e=e.outerHTML),this.selector.forEach(o=>{let r;for("string"==typeof e?r=s.parseHTML(e):(r=[])[0]=e,t=r.length;t>0;){let e=r[t-1];o.insertBefore(e,o.firstChild),t=r.length}}),this},fastJs.prototype.before=function(e){return e.nodeType&&e.nodeType>0&&(e=e.outerHTML),this.selector.forEach(t=>{t.insertAdjacentHTML("beforebegin",e)}),this},fastJs.prototype.empty=function(){this.selector.forEach(e=>{e.innerHTML=""})},fastJs.prototype.html=function(e){return void 0!==e?(this.selector.forEach(t=>{t.innerHTML=e}),this):this.selector[0].innerHTML},fastJs.prototype.text=function(e){return void 0!==e?(this.selector.forEach(t=>{t.textContent=e}),this):this.selector[0].textContent},fastJs.prototype.remove=function(){return this.selector.forEach(e=>{e.parentNode.removeChild(e)}),this},fastJs.prototype.replaceWith=function(e){return e=e.nodeType&&e.nodeType>0?e.outerHTML:e,this.selector.forEach(t=>{t.outerHTML=e}),this},function(e){fastJs.prototype.one=function(e,t){this.selector.forEach(s=>{s.addEventListener(e,function(s){t(s),void 0===t?this.removeEventListener(e):this.removeEventListener(e,t)})})},fastJs.prototype.on=function(e,t){this.selector.forEach(s=>{s.addEventListener(e,t)})},fastJs.prototype.off=function(e,t){this.selector.forEach(s=>{void 0===t?s.removeEventListener(e):s.removeEventListener(e,t)})},fastJs.prototype.trigger=function(e){let t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!1),this.selector.forEach(e=>{e.dispatchEvent(t)})},fastJs.prototype.triggerCustom=function(t,s){let o;e.CustomEvent?o=new CustomEvent(t,s):(o=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,s),this.selector.forEach(e=>{e.dispatchEvent(o)})}}(window),window,fastJs.prototype.addClass=function(e){let t=this;return this.selector.forEach(s=>{t.hasClass(e,s)||(s.classList?s.classList.add(e):s.className+=" "+e)}),this},fastJs.prototype.toggleClass=function(e){let t=this;this.selector.forEach(s=>{s.classList&&s.classList.toggle?s.classList.toggle(e):t.hasClass(e,s)?s.className=s.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "):s.className+=" "+e})},fastJs.prototype.removeClass=function(e){let t=this;return this.selector.forEach(s=>{t.hasClass(e,s)&&(s.classList?s.classList.remove(e):s.className=s.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))}),this},fastJs.prototype.hasClass=function(e,t){let s;return void 0!==t?s=t:(s=this.selector,this.selectorLength>0&&(s=this.selector[0])),s.classList?s.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(s.className)},function(e){if(void 0===e.fastJs)throw"Need selector-core.js module";fastJs.extend(fastJs,{browsers:{ie:!1,edge:!1,webkit:!1,opera:!1,firefox:!1,version:!1,chrome:!1,legacy:!1,modern:!1},headTag:null,isTouchDevice:!1,initialize(){let t="";return("ontouchstart"in e||e.DocumentTouch&&document instanceof e.DocumentTouch)&&(t+=" touch",this.isTouchDevice=!0),document.all&&document.addEventListener||e.MSStream?(this.browsers.ie=!0,this.browser.legacy=!0,t+=" legacy ie"):(this.browsers.modern=!0,t+=" modern",e.opera?(this.browsers.opera=!0,t+=" opera"):e.chrome?(this.browsers.chrome=!0,this.browsers.webkit=!0,t+=" webkit-edge-chrome"):e.Mozilla&&(this.browsers.firefox=!0,t+=" mozilla")),this.headTag=document.getElementsByTagName("head")[0],document.getElementsByTagName("html")[0].className=t,this},prepareOptions:(e,t)=>(t.type=t.type?t.type:/\.css/.test(e)?"css":"js",t.async=!(!t.async||"boolean"!=typeof t.async)&&t.async,t.nodeType="css"===t.type?"link":"script",t.media=t.media?t.media:"all",t),prepareElt(e,t){let s=document.createElement(t.nodeType);switch(t.type){case"js":s.src=e,s.type="text/javascript",s.async=t.async;break;case"css":s.href=e,s.rel="stylesheet",s.media=t.media,s.type="text/css";break;default:s.type=t.type}return s},modernLoad(e,t){let s=this;return new Promise(function(o,r){t=t||{},s.prepareOptions(e,t),"string"!=typeof e&&r({message:"url must be a string property"});let n=s.prepareElt(e,t);n.onload=function(){o({url:e,options:t,elt:n})},n.onerror=function(){r({message:"error on url loading",url:e,options:t,elt:n})},s.headTag.appendChild(n)})},legacyLoad(t,s,o){let r=t.shift().url,n={},i=this;if("string"!=typeof r)throw new Error("incorrect url type (need a string valid ressource url");this.prepareOptions(r,n);let a=i.prepareElt(r,n);return a.onload=function(){0===t.length?(o&&o(),i.trigger(e,s)):i.legacyLoad(t,s,o)},a.onerror=function(){throw"failed to load "+r},this.headTag.appendChild(a),this},load(t,s,o,r){let n=document,i=this;if(void 0!==o&&"load"!==o||(o="load",n=e),"ready"===o&&(o="DOMContentLoaded"),r||(r="assetLoaded"),!1===Array.isArray(t))throw"You need to use an array of object => [{url => path.to.asset}]";return this.on(o,n,function(){let o=[];i.browsers.legacy?i.legacyLoad(t,r,s):(t.forEach(e=>{o.push(i.modernLoad(e.url,e.options).then(e=>e))}),Promise.all(o).then(function(){s(),i.trigger(e,r)}).catch(e=>{}))}),this},finish(e){e()}}),fastJs.initialize()}(window),function(e){if(void 0===e.fastJs)throw"Need selector-core.js module";fastJs.extend(fastJs,{parseJSON(t,s){if(void 0!==t.trim&&(t=t.trim()),e.JSON&&e.JSON.parse)return e.JSON.parse(t,s);throw new Error("JSON.parse no native support")},stringify(t,s,o){try{return e.JSON.stringify(t,s,o)}catch(e){throw new Error("JSON.stringify no native support")}},inArray:(e,t)=>Array.prototype.includes?t.includes(e):t.indexOf(e)>-1,isLitteralCompatible:()=>!!Array.prototype.includes,isString:e=>"string"==typeof e&&e instanceof String,isNumber:e=>"number"==typeof e&&isFinite(e),isArray:e=>Array.prototype.isArray?Array.isArray(e):"object"==typeof e&&e.constructor===Array,isFunction:e=>"function"==typeof e,isObject:e=>"object"==typeof e&&!1===Array.isArray(e),isNull:e=>null===e,isUndefined:e=>void 0===e,isBoolean:e=>"boolean"==typeof e,isDate:e=>e instanceof Date,type(e){Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()}})}(window),function(e){if(void 0===e.fastJs)throw"Need selector-core.js module";fastJs.extend(fastJs,{events:[],on:function(e,t,s){if(null!==t){if(!t.addEventListener)throw"IE9 + compatible";t.addEventListener(e,s,!1)}},trigger:function(t,s){let o=new Event(s);if((document.all&&document.addEventListener||e.MSStream)&&(o=document.createEvent("HTMLEvents")).initEvent(s,!0,!0),!t.dispatchEvent)throw"IE9 + compatible";t.dispatchEvent(o)}})}(window),function(e){if(void 0===e.fastJs)throw"Need selector-core.js module";fastJs.extend(fastJs,{ajax(t){if(void 0===t.url)throw new Error("need url");if(void 0===t.method&&(t.method="GET"),void 0!==t.cache&&t.cache?t.cache=!0:(t.url+="?_="+(new Date).getTime(),t.cache=!1),void 0===t.dataType&&(t.dataType="html"),void 0!==t.data){let e="";if("object"==typeof t.data){for(let s in t.data)t.data.hasOwnProperty(s)&&(e+="&"+s+"="+t.data[s]);!0===t.cache&&(e=e.replace(/^&/,"?"))}else e=t.cache?t.data:"&"+t.data;"GET"===t.method&&(t.url+=e),"GET"!==t.method&&(t.data=e.replace(/^\?/,""))}if(e.fetch){let e=new Headers;switch(t.dataType){case"xml":e.append("Content-Type","application/xml; charset=UTF-8");break;case"json":e.append("Content-Type","application/json; charset=UTF-8");break;case"html":e.append("Content-Type","text/html; charset=UTF-8");break;case"javascript":e.append("Content-Type","text/javascript; charset=UTF-8");break;default:e.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}let s={method:t.method,headers:e,cache:t.cache?"true":"default"};t.data&&"GET"!==t.method&&"HEAD"!==t.method&&(s.body=t.data),fetch(t.url,s).then(e=>{if(e.ok){let s=e.headers.get("content-type");if(s)switch(t.dataType){case"xml":(s.indexOf("application/xml")>-1||s.indexOf("text/xml")>-1)&&e.text().then(e=>{let s=(new DOMParser).parseFromString(e,"application/xml");t.done(s)});break;case"json":s.indexOf("application/json")>-1&&e.json().then(e=>{t.done(e)});break;case"javascript":let o=document.createElement("script");o.innerText=this.responseText,document.getElementsByTagName("head")[0].appendChild(o),e={ok:!0,message:"script loaded"},t.done(message);break;case"html":s.indexOf("text/html")>-1&&e.text().then(e=>{let s=document.implementation.createHTMLDocument();s.body.innerHTML=e,t.done(s.body.innerHTML)});break;default:e.text().then(e=>{t.done(e)})}else t.fail({ko:!0,message:"contentType error",data:e})}else t.fail({ko:!0,message:"response status error",data:e})}).catch(e=>{"function"==typeof t.fail&&t.fail(e)})}else{let s=new XMLHttpRequest;switch(s.open(t.method,t.url,!0),t.dataType){case"xml":s.setRequestHeader("Content-Type","application/xml; charset=UTF-8");break;case"json":s.setRequestHeader("Content-Type","application/json; charset=UTF-8");break;case"html":s.setRequestHeader("Content-Type","text/html; charset=UTF-8");break;case"javascript":s.setRequestHeader("Content-Type","text/javascript; charset=UTF-8");break;default:s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}s.onreadystatechange=function(){if(4===this.readyState){let s=this.response;if(200===this.status&&this.status<400){if("function"==typeof t.done){switch(t.dataType){case"xml":s=this.responseXML;break;case"json":s=e.JSON&&e.JSON.parse?e.JSON.parse(this.response,function(){}):this.response;break;case"javascript":let o=document.createElement("script");o.innerText=this.responseText,document.getElementsByTagName("head")[0].appendChild(o);break;case"html":let r=document.implementation.createHTMLDocument();r.body.innerHTML=this.response,s=r.body.innerHTML}console.log("test ajax",s),t.done(s)}}else"function"==typeof t.fail&&t.fail(this,this.status,this.response);void 0!==t.complete&&"function"==typeof t.complete&&t.complete()}},void 0===t.data||"GET"===t.method?s.send():s.send(t.data)}}})}(window),function(e){if(void 0===e.fastJs)throw"Need selector-core.js module";fastJs.extend(fastJs,{test:function(e,t,s){e?t():s()},feature:function(e,t){this[e]=t()}})}(window);